library(tidyverse)
library(janitor)


data_col_names <- names(read_csv("PSYC_121_student_dataset.csv", n_max = 0))

data_raw <-
  read_csv("PSYC_121_student_dataset.csv",
           col_names = data_col_names, col_types = NULL, skip = 3) %>%
  clean_names()

data <-
  data_raw %>%
  select(random_id,
         start_date,
         status,
         duration_in_seconds,
         "age" = q2,
         "birth_month" = q3,
         "gender_identity" = q4,
         "height" = q5,
         "sibling_order" = q6,
         "home_location" = q7,
         "home_location_in_UK" = q8,
         "maths_qualification" = q9,
         "countries_visited" = q10,
         "maths_skills" = q11,
         "conv_skills" = q12,
         "uk_salary" = q13,
         "attention_check_1" = q14,
         "gamble_gain" = q16,
         "gamble_lose" = q17,
         "climate_estimate" = q52,
         "cow_weight" = q18,
         "GAD_q1" = q19_1,
         "GAD_q2" = q19_2,
         "GAD_q3" = q19_3,
         "GAD_q4" = q19_4,
         "GAD_q5" = q19_5,
         "GAD_q6" = q19_6,
         "GAD_q7" = q19_7,
         "stroop_control" = q23,
         "stroop_compatible" = q24,
         "stroop_incompatible" = q25,
         "facebook_days" = q26_number_1_1,
         "instagram_days" = q26_number_1_2,
         "twitter_days" = q26_number_1_3,
         "tiktok_days" = q26_number_1_4,
         "snapchat_days" = q26_number_1_5,
         "youtube_days" = q26_number_1_6,
         "reddit_days" = q26_number_1_7,
         "facebook_friends" = q27,
         "instagram_followers" = q28,
         "instagram_follow" = q29,
         "twitter_followers" = q30,
         "twitter_follow" = q31,
         "phone_type"= q32,
         "screen_time_estimate_h" = q33_number_1_1,
         "screen_time_estimate_m" = q33_number_2_1,
         "screen_time_actual_iphone_h" = q34_number_1_1,
         "screen_time_actual_iphone_m" = q34_number_2_1,
         "screen_time_actual_android_h" = q35_number_1_1,
         "screen_time_actual_android_m" = q35_number_2_1,
         "MDFA_q1" = q36_1,
         "MDFA_q2" = q36_2,
         "MDFA_q3" = q36_3,
         "MDFA_q4" = q36_4,
         "MDFA_q5" = q36_5,
         "moral_prof" = q38_1,
         "moral_soccer" = q39_1,
         "moral_self_esteem" = q40_1,
         "attention_check_2" = q54,
         "pop_est_christian" = q54_1,
         "pop_est_muslim" = q54_2,
         "pop_est_age" = q54_3,
         "pop_est_immigrants" = q53_1,
         "estimate_pregnancy" = q55_1,
         "climate_reduction_1" = q56_1,
         "climate_reduction_2" = q56_2,
         "climate_reduction_3" = q56_4,
         "climate_reduction_4" = q56_10,
         "climate_reduction_5" = q56_6,
         "climate_reduction_6" = q56_12,
         "climate_reduction_7" = q56_8,
         "climate_reduction_8" = q56_11,
         "climate_reduction_9" = q56_13,
         "imperial_choice" = q53)

save(data, file = "survey_raw.RData")
